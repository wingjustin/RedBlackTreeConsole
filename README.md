# RedBlackTreeConsole
Red-Black Tree

紅黑樹是每個節點都帶有顏色屬性的二叉搜尋樹，顏色為紅色或黑色。在二叉搜尋樹強制一般要求以外，對於任何有效的紅黑樹我們增加了如下的額外要求：

1. 節點是紅色或黑色。

2. 根是黑色。

3. 所有葉子都是黑色（葉子是NIL節點）。

4. 每個紅色節點必須有兩個黑色的子節點。（或者說從每個葉子到根的所有路徑上不能有兩個連續的紅色節點。）（或者說不存在兩個相鄰的紅色節點，相鄰指兩個節點是父子關係。）（或者說紅色節點的父節點和子節點均是黑色的。）

5. 從任一節點到其每個葉子的所有簡單路徑都包含相同數目的黑色節點。

來源: https://zh.wikipedia.org/zh-hk/%E7%BA%A2%E9%BB%91%E6%A0%91

關於插入操作和刪除操作, 先把紅黑樹理解成紅樹和黑樹, 紅樹子左右樹高度之差維持<=1, 黑樹子左右樹高度之差維持0 (要求5)

插入操作, 重點考慮紅樹平衡, 留意父節點, 祖父 和 Uncle :

1. 新節點為紅節點, 如果父節點為黑色即完成操作。

2. 如果父節點為紅色, 紅節點與紅節點有兩個黑色的子節點 (要求4), 先看Uncle顏色, 

2.1 若果為紅色, 表示當前紅子樹的子左右樹高度之差<=1, 變色處理即可

    , 祖父將變為紅色。若果祖父為根,變為黑色結束操作, 整體黑樹高度加1。若果祖父不為根,把當前點指向祖父進入下一次迭代。

2.2 若果Uncle為黑色, 表示當前紅子樹的子左右樹高度之差>1, 需要進行旋轉操作與變色處理, 看情況分LL,RR,LR,RL,與AVL相似, 最後祖父將會變為黑色,結束操作。

刪除操作, 重點考慮黑樹平衡, 留意父節點, 兄弟 和 Nephew, 變色策略為新父節點為根則黑色,否則變回舊父節點顏色 :

1. 先刪除當前節點, 子節點為替換節點

   , 當前替換節點的黑樹高度與當前節點的兄弟節點黑樹高度相差-1。 
   
   若果替換節點為紅色, 變為黑色即可令當前高度加1, 與兄弟節點平衡結束操作。
   
   若果替換節點為黑色, 則之後必須進行旋轉操作, 先把當前節點指向替換節點進入下一步。

2. 先考慮兄弟節點為紅色(第2簡單情況), 父節點與nephews必為黑色, 進行一次左旋或右旋

   , 雖然現在當前節點黑樹高度相對新兄弟節點仍然相差-1,但新兄弟節點是舊nephew,必為黑色。
   
   現在可以只考慮兄弟節點為黑色,當前節點沒變,進入下一步。
   
3. 考慮其中一個或兩個nephew節點為紅色
